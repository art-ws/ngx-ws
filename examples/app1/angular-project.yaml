vars:
  root: "projects/{{name}}"
  src: "{{root}}/src"
  environments: "{{src}}/environments"
  env: "{{environments}}/environment"
  styleExt: scss
resources:
  - "material-style-common"
  - "fontawesome-free"
  - "bootstrap5"
project:
  projectType: application
  schematics:
    $ref: "{{wsPath}}#/definitions/app/schematics"
  root: "{{root}}"
  sourceRoot: "{{src}}"
  prefix: app
  architect:
    build:
      builder: "@angular-devkit/build-angular:application"
      options:
        allowedCommonJsDependencies:
          $ref: "{{wsPath}}#/definitions/app/allowedCommonJsDependencies"
        outputPath: "dist/{{name}}"
        index: "{{src}}/index.html"
        browser: "{{src}}/main.ts"
        polyfills: []
        tsConfig: "{{root}}/tsconfig.app.json"
        inlineStyleLanguage: "{{styleExt}}"
        assets:
          - "{{src}}/favicon.ico"
          - "{{src}}/assets"
        styles:
          - "{{src}}/styles.{{styleExt}}"
        scripts: []
      configurations:
        production:
          optimization:
            scripts: true
            styles:
              minify: true
              # FIX: https://stackoverflow.com/questions/76798190/i-get-error-form-floatinglabel-in-ng-build
              inlineCritical: false
            fonts: true
          budgets:
            $ref: "{{wsPath}}#/definitions/app/budgets"
          outputHashing: all
        development:
          optimization: false
          extractLicenses: false
          sourceMap: true
          fileReplacements:
            - replace: "{{env}}.ts"
              with: "{{env}}.development.ts"
      defaultConfiguration: production
    serve:
      builder: "@angular-devkit/build-angular:dev-server"
      configurations:
        production:
          buildTarget: "{{name}}:build:production"
        development:
          buildTarget: "{{name}}:build:development"
      defaultConfiguration: "development"
    extract-i18n:
      builder: "@angular-devkit/build-angular:extract-i18n"
      options:
        buildTarget: "{{name}}:build"
    test:
      builder: "@angular-devkit/build-angular:karma"
      options:
        polyfills: []
        tsConfig: "{{root}}/tsconfig.spec.json"
        inlineStyleLanguage: "{{styleExt}}"
        assets:
          - "{{src}}/favicon.ico"
          - "{{src}}/assets"
        styles:
          - "{{src}}/styles.{{styleExt}}"
        scripts: []
